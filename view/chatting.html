<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width" />
    <title>ê¿€ë‹¨ì§€ì±„íŒ…</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</head>
<style>
    @font-face {
        font-family: 'DungGeunMo';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_six@1.2/DungGeunMo.woff') format('woff');
        font-weight: normal;
        font-style: normal;
        
    }
    body{
        font-family: 'DungGeunMo';
        font-weight: bold;
        /* body ê¸°ì¤€ìœ¼ë¡œ ì›€ì§ì´ë ¤ê³  relative */
        position: relative;
        height: 100vh;
        overflow: hidden;
        margin: 0;
        box-sizing: border-box;
        background-color: black;
        color: white;
        
        
    }
    .content{
        /* display: none; */
        background-color: blue;
        /* border-radius: 8px; */
        position: absolute;
        /* ë¬´ì¡±ê±´ ë¬´ìŠ¨ì¼ì´ ìˆì–´ë„ ì •ì¤‘ì•™ */
        top: 50%;
        left:50%;
        transform: translate(-50%,-50%);
        width: 50vw;
        height: 50vw;
        min-width: 250px;
        min-height: 250px;
        max-width: 1000px;
        max-height: 600px;
        border: 3px solid;
        
    }
    .join_text{
        background-color:gray;
    }
    .leave_text{
        background-color: gray;
    }
    #send{
        
        position: fixed;
        bottom: 0;
        width: 100%;
        border-top: 3px solid;
        box-sizing: border-box;
        display: flex;
    }
     #send #msg{
         border: 0;
         box-sizing: border-box;
         padding: 10px;
         width: 90%;   
         /* border-radius: 0 0 0 8px; */
    }
    #send #sendbtn{
        font-family: 'DungGeunMo';
        background-color: blue;
        color: white;
        border: none;
        box-sizing: border-box;
        /* border-radius: 0 0 8px 0; */
        padding: 10px;
        width: 5vw;
        min-width: 50px;
    }
    
    #messages{
        /* overflow: hidden; */
        /* top: 30px; */
        margin: 0;
        padding: 0;
        font-size: 1.4em;
        /* max-height: 45vw;
        min-height: 300px; */
    }
    #messages li {
        padding: 5px 10px;
        list-style: none;
        
    }
    #main{
        display: block;
        
        overflow: scroll;
    }
    #main::-webkit-scrollbar {
        display: none;
    }
    .userUI{
        font-size:1em;
        width: 100%;
        display: flex;
        justify-content: space-around;
        align-items: center;
        border-bottom: 3px solid white;
        height: 3.5vh;
    }
    #userBox{
        background-color: blue;
        /* border-radius: 8px; */
        position: absolute;
        display: none;
        text-align: center;
        border: 3px solid;
        border-left: 0;
        width:20vw;
        height:50vw;
        max-width: 200px;
        max-height: 600px;
        word-break: break-all;
        min-width: 150px;
        min-height: 300px;
    }
    #userBoxUI::-webkit-scrollbar {
        display: none;
    }
    #userBoxUI{
        padding: 5px 10px;
        list-style: none;
        overflow: auto;
    }
    .secretTo{
        background-color: orange;
    }
    .secretFrom{
        background-color: green;
    }
    .admin_text{
        background-color: black;
        color: aliceblue;
        text-decoration: bold;
    }
    .adminJoin_text{
        background-color: black;
        text-decoration: bold;
    }
    #buttonText{
        display: none;
        position:absolute;
        z-index: 1;
        border: 3px solid #e5e5e5;
        background-color: blue;
        width: 130px;
        font-size: 1em
        /* border-radius: 8px; */
    }
    .userText{
        padding: 5px;
        margin: 5px;
    }
    .userText:hover{
        background-color: white;
        color: blue;
        border-radius: 3px;
    }
    #stopText{
        display: none;
    }
    .userUI > button{
        font-size: 1em;
        font-family: 'DungGeunMo';
        color: white;
        background-color: blue;
        padding: 5px;
        border: 0;
    }
    #messages > li{
        display: flex;
        align-items: center;
        /* height: 25px; */
    }
    input:focus {
        outline: none;
    }
    textarea:focus {
        outline: none;
    }
    textarea::-webkit-scrollbar {
        display: none;
    }
    .swal-modal{
        border: 3px solid white;
        background-color: blue ;
        color: white ;
    }
    .swal-title {
        color: white;
    }
    .swal-text {
        color: white;
    }
    .swal-footer {
        color: white;
    }
    .swal-button {
        background-color: blue;
        color: white;
    }
    .swal-button:focus{
        border: 0;
        /* outline:0; */
        background-color: blue;
        color: white;
        box-shadow: none;
    }
    .swal-button:not([disabled]):hover {
        background-color: white;
        color: blue;
    }
    .userUI > a{
        text-decoration: none;
        color: white;
        padding: 5px;
    }
    .userUI > a:hover {
        background-color: white;
        color: blue;
        
    }
    .userUI > button:hover {
        background-color: white;
        color: blue;
    }
    
    #userBoxUI > .use{
        border-bottom: 3px solid;
        padding: 10px 0 10px 0;
    }
    #userBoxUI > .use:first-child{
        border-bottom: 3px solid;
        /* border-top: 1px solid; */
        padding: 5px 0 10px 0 ;
    }
    .complaint{
        display: none;
        width: 100vw;
        height: 100vh;
        /* border: 3px solid white; */
        background-color: blue;
        position: absolute;
        /* ë¬´ì¡±ê±´ ë¬´ìŠ¨ì¼ì´ ìˆì–´ë„ ì •ì¤‘ì•™ */
        top: 50%;
        left:50%;
        transform: translate(-50%,-50%);
    }
    .complaintTitle{
        text-align: center;
        position: absolute;
        /* ë¬´ì¡±ê±´ ë¬´ìŠ¨ì¼ì´ ìˆì–´ë„ ì •ì¤‘ì•™ */
        top: 50%;
        left:50%;
        transform: translate(-50%,-50%);
    }
    .contentTitle{
        font-size: 10vh;
        position: relative;
        bottom: 70px;
    }
    #complaintUser{
        font-size: 3vw;
        position: relative;
        bottom: 30px;
    }
    #complaintedUser{
        font-size: 3vw;
        position: relative;
    }
    .contentText{
        position: relative;
        top: 40px;
    }
    #complaintContents{
        padding: 13px;
        margin-bottom: 25px;
    }
    #complaintedBtn{
        font-size: 3vh;
        border:  0;
        padding: 10px;
        background-color: blue;
        color: white;
        font-family: 'DungGeunMo';
    }
    #complaintedBtn:hover{
        background-color: white;
        color: blue;
    }
    #backBtn{
        font-size: 3vh;
        border:  0;
        padding: 10px;
        background-color: blue;
        color: white;
        font-family: 'DungGeunMo';
    }
    #backBtn:hover{
        background-color: white;
        color: blue;
    }
    textarea{
        font-family: 'DungGeunMo';
        font-size: 2vw;
        border: 3px solid white;
        background-color: blue;
        color: white;
        width: 30vw;
        height: 10vh;
        max-width: 50vw;
        min-width: 10vw;
        max-height: 20vw;
        min-height: 10vw;
    }
    .btnStyle{
        width: 100%;
    }
    .use:hover{
        background-color: white;
        color: blue;
    }
    input{
        color: blue;
        font-family: 'DungGeunMo';
        font-size: 16px;
    }
    
</style>
<body>
    <div class="complaint">
        <div class="complaintTitle">
            <div class="contentTitle">â€» ì‹ ê³  â€»</div>
            <div id="complaintUser"></div>
            <div id="complaintedUser"></div>
            <div class="contentText">
                <textarea name="complaintContents" id="complaintContents" cols="30" rows="5"></textarea>
                <div class="btnStyle">
                    <button id="backBtn">ëŒì•„ê°€ê¸°</button>
                    <button id="complaintedBtn">ì‹ ê³ í•˜ê¸°</button>
                </div>
                
            </div>
        </div>
    </div>
    <div id="buttonText">
        <div class="userText a"></div>
        <div class="userText b"></div>
        <div class="userText c"></div>
        <div class="userText" id="stopText"></div>
    </div>
    <!-- ì‹¤ì‹œê°„ ìœ ì €í™•ì¸ (userBtnëˆŒë €ì„ë•Œ)-->
    <div id="userBox">
        <div class="userUI">ì ‘ì†í•œ ìœ ì €ë“¤</div>
        <!-- ì‹¤ì‹œê°„ ìœ ì € ë‹‰ë„¤ì„ í™•ì¸ -->
        <div id="userBoxUI">
        </div>
    </div>
    <div class="content">
        <div class="userUI">
            <!-- <%= data %>ì— ìœ ì € ì´ë¦„ í‘œì‹œ -->
            <div>ìœ ì €ì´ë¦„ : <span id="userName"><%= data.nickName %></span></div> 
            <!-- ì‹¤ì‹œê°„ ìœ ì € ìˆ˜ í‘œì‹œ -->
            <div id="userPage">ì ‘ì†ì : <span id="userNumber"></span></div> 
            <a href="/index">ëŒì•„ê°€ê¸°</a>
            <!-- ì‹¤ì‹œê°„ ìœ ì € í™•ì¸ ë²„íŠ¼ -->
            <button id="userBtn">ìœ ì €ë³´ê¸°</button>
        </div>
        <div id="main">
            <!-- ë©”ì„¸ì§€ ê·¸ë ¤ì§€ëŠ” ê³³ -->
            <ul id="messages">
            </ul>
        </div>
            <div id="send">
                <!-- ë©”ì„¸ì§€ ì…ë ¥ ë°›ëŠ” ê³³ -->
                <input type="text" id="msg">
                <!-- ë©”ì„¸ì§€ ì „ì†¡ ë²„íŠ¼ -->
                <button id="sendbtn">ë³´ëƒ„</button>
            </div>
    </div>
</body>
<script>

     window.onload = function(){
         
        complaintedBtn.onclick = ()=>{
            console.log(complaintContents.value)
            let a = complaintUser.innerHTML.split(": ")
            let b = complaintedUser.innerHTML.split(": ")
            swal({
                title : "ì‹ ê³ ",
                text : "ì •ë§ ì‹ ê³ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                buttons: ["ë„¤" , "ì•„ë‹ˆìš”"]
            })
            .then(function(result){
                if(result == null){
                    $.ajax({
                        url : "/userComplaint",
                        type : "post",
                        data : {
                            complaintUser : a[1],
                            complaintedUser : b[1],
                            complaintContents : complaintContents.value
                        },
                        success : function(data){
                            if (data !== null)
                            {  
                                swal({
                                    title : "ì•ˆë‚´",
                                    text : "ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë ì—ˆìŠµë‹ˆë‹¤.",
                                })
                                complaintContents.value = ""
                                document.querySelector(".content").style.display = "block"
                                document.querySelector(".complaint").style.display = "none"
                                return 
                            }
                            else{
                                complaintContents.value = ""
                                return alert("bad")
                            }
                        }
                    })
                }
                else{
                    complaintContents.value = ""
                    return
                }
            })
        }
        backBtn.onclick = ()=>{
            swal({
                title : "ì±„íŒ…ë°©",
                text : "ì •ë§ ëŒì•„ê°€ì‹œê² ìŠµë‹ˆê¹Œ?",
                buttons: ["ë„¤" , "ì•„ë‹ˆìš”"]
            })
            .then(function(result){
                if(result == null){
                    document.querySelector(".content").style.display = "block"
                    document.querySelector(".complaint").style.display = "none"
                    complaintContents.value = ""
                }
                else{
                    complaintContents.value = ""
                    return
                }
                console.log(result);

                
                // if(result){
                //     location.href = "/";
                // }
                
            })
        }
        if("<%=data.authority%>" == "ê´€ë¦¬ì"){
            console.log("ë‚˜ëŠ” ê´€ë¦¬ì")
            userName.innerHTML = "ê´€ë¦¬ì"
        }
         userName.innerHTML.onchange = ()=>{
             console.log("ë‚˜ ë³€ê²½")
         }
        if(userName.innerHTML == "ê´€ë¦¬ì"){
            stopText.style.display = "block"
        }
        if(window.innerWidth <= 850){
            document.querySelector(".content").style.width = "100%"
            document.querySelector(".content").style.maxWidth = "100%"
            document.querySelector(".content").style.height = "100%"
            document.querySelector(".content").style.maxHeight = "100%"
            document.querySelector(".content").style.border = "0"
            document.querySelectorAll(".userUI")[1].style.fontSize = "3.5vw"
            document.querySelectorAll(".userUI")[0].style.height = "5vh"
            document.querySelectorAll(".userUI")[1].style.height = "5vh"
        }
        let users;
        const socket = io.connect();
        // ìœ ì € ì…ì¥ì‹œ
        socket.emit("joinRoom","<%= data.nickName %>");
        socket.on("userStop",(name)=>{
            swal("ì•ˆë‚´",`${name}ë‹˜ì´ ì •ì§€ ì²˜ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤.`)
        })
        socket.on("userReturn",()=>{
            swal("ì•ˆë‚´",`ì‹ ê³ ê°€ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤.`)
        })
        socket.on("stopMsg",()=>{
            swal("ì•ˆë‚´","ì‹ ê³ ë¡œ ì¸í•´ ì •ì§€ ë˜ì…¨ìŠµë‹ˆë‹¤.")
            .then(()=>{
                location.href = "/"
            })
        })
        socket.on("joinRoom", (name,user) =>{
            messages.innerHTML += `
            <li class="join_text">
                ${name}ë‹˜ì´ ë“¤ì–´ì˜¤ì…¨ìŠµë‹ˆë‹¤.
            </li>
            `
            userNumber.innerHTML = user
            down()
            
        });
        socket.on("adminJoinRoom", (name,user) =>{
            messages.innerHTML += `
            <li class="adminJoin_text">
                ê´€ë¦¬ì ë‹˜ì´ ë“¤ì–´ì˜¤ì…¨ìŠµë‹ˆë‹¤.
            </li>
            `
            userNumber.innerHTML = user
            down()
        });
        socket.on("chat",(name,msg)=>{
            messages.innerHTML +=`
            <li>
                ${name} : ${msg}
            </li>
            `
            down()
        })
        socket.on("adminChat",(name,msg)=>{
                messages.innerHTML +=`
                <li class="admin_text">
                    ê´€ë¦¬ì : ${msg}
                </li>
                `
                down()
        })
        socket.on("secretChat",(name,user,msg)=>{
            messages.innerHTML +=
            `
            <li class="secretTo">
                ${name}ë‹˜ì˜ ê·“ì†ë§ : ${msg}
            </li>
            `    
            down()
        })
        socket.on("secretChatYou",(name,user,msg)=>{
            messages.innerHTML +=
            `
            <li class="secretFrom"> 
                ${user}ë‹˜ì—ê²Œ ë³´ë‚¸ ê·“ì†ë§ : ${msg}
            </li>
            `
            down()
        })
        socket.on("leaveRoom",(name)=>{
            messages.innerHTML += 
            `
            <li class="leave_text">
                ${name}ë‹˜ì´ ë‚˜ê°”ìŠµë‹ˆë‹¤.
            </li>
            `
            
        });
        socket.on("userCount",(user)=>{
            userNumber.innerHTML = user
        });
        socket.on("userShow",(name)=>{
            userBoxUI.innerHTML = "";
            for (let i = 0; i < name.length; i++) {
                userBoxUI.innerHTML +=
                `
                <li class="use">${name[i]}</li>
                `
                down() 
            }
            users = name
        })
        socket.on("userOut",(nickname)=>{
            swal("ì£¼ì˜","ê´€ë¦¬ìì— ì˜í•´ ê°•ì œí‡´ì¥ë˜ì…¨ìŠµë‹ˆë‹¤.")
            .then(()=>{
                location.href = "/"
            })
        })
        socket.on("return",()=>{
            swal("ì£¼ì˜","ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.")
            .then(()=>{
                location.href = "/"
            })
        })
        msg.onkeypress = function(e){
            const content = document.querySelector(".content").getBoundingClientRect().top+31
            const sendY = (send.getBoundingClientRect().top - content)+"px"
            main.style.height = sendY
            if(e.code == "Enter"){
                let ScrMsg = msg.value.split(" ")
                if(ScrMsg[0]=="/w"){
                    // )
                    if(users.includes(ScrMsg[1])&& users.includes("<%= data.nickName %>")){
                        console.log(users)
                        let ScrUser = ScrMsg[1]
                        ScrMsg.splice(0,2)
                        let b =ScrMsg.join(" ")
                        if(filter(b)){
                            console.log("ì´ê±° ì‹¤í–‰")
                             msg.value = `/w ${ScrUser} `
                        }
                        console.log("ë‚˜ì‹¤í–‰")
                        socket.emit("secretChat","<%= data.nickName %>",ScrUser,b)
                        msg.value = `/w ${ScrUser} `
                        return             
                    }
                    else if(ScrMsg[1] == "<%= data.nickName %>"){
                        console.log("ì´ê±° ì‹¤í–‰")
                        messages.innerHTML +=`<li>ìì‹ ì—ê²ŒëŠ” ë³´ë‚¼ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>`
                        down()
                        msg.value = ""
                    }
                    else if(users.includes("<%= data.nickName %>") == false){
                        swal("ê²½ê³ ","ë‹‰ë„¤ì„ ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.")
                        setTimeout(() => {
                            location.href = "/"
                        }, 1000);
                        // location.href = "/"
                    }
                    else{
                        messages.innerHTML +=`<li>ì—†ëŠ” ìœ ì € ì…ë‹ˆë‹¤.</li>`
                        down()
                        msg.value = ""
                    }
                }
                else{
                    console.log("ì´ê±° ì‹¤í–‰")
                }
                if(msg.value == ""){
                    return
                }
                else{
                    if(filter(msg.value)){
                        msg.value = ""
                    }
                    else{
                        // console.log(filter(msg.value))
                        socket.emit("chat","<%= data.nickName %>",msg.value)
                        msg.value = ""
                    }
                }
               
                ScrMsg = [];
            }
        }
        // ë§ˆìš°ìŠ¤ ìš°í´ë¦­ ì‹œ ëœ¨ëŠ” ë©”ë‰´ì°½
        window.oncontextmenu = function (e) {
            e.preventDefault()
        };
        document.onclick = (e)=>{
            // ë…¸ì¶œ ì´ˆê¸°í™”
            buttonText.style.display = 'none';   
            buttonText.style.top = null;
            buttonText.style.left = null;
        };
        buttonText.onclick = (e)=>{
            if(e.target.className == "userText a"){
                // alert("ì•„ì§ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.")
                swal("ì£¼ì˜","ì•„ì§ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.") 
            }
            else if(e.target.className == "userText b"){
                alert("ì•„ì§ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.")
            }
            else if(e.target.className == "userText c"){
                complaintUser.innerHTML = `â€» ì¼ ë¦„ ë³´ : <%=data.nickName%>`
                complaintedUser.innerHTML = `â€» ë¬¸ ì œ ì•„ : ${e.target.children[0].innerHTML}`
                document.querySelector(".content").style.display = "none"
                document.querySelector(".complaint").style.display = "block"
                userBox.style.display = "none"
            }
            else if(e.target.id == "stopText"){
                $.ajax({
                    url : "/userOut",
                    type : "post",
                    data : { nickname : e.target.children[0].innerHTML },
                    success : function(data){
                        if (data !== null)
                        { 
                            return alert(data);
                        }
                        else{
                            return
                        }
                    }
                })
            }
        }

        userBox.onmousedown = (e)=>{
            const x = e.pageX + 'px'; // í˜„ì¬ ë§ˆìš°ìŠ¤ì˜ Xì¢Œí‘œ
            const y = e.pageY + 'px'; // í˜„ì¬ ë§ˆìš°ìŠ¤ì˜ Yì¢Œí‘œ
            
            if(e.target.innerHTML== "ê´€ë¦¬ì"){
                return 
            }
            else if(e.target.innerHTML== "<%= data.nickName %>"){
                return 
            }
            else if( e.target.className == "use" && e.button == 2){
                buttonText.style.position = 'absolute'; 
                buttonText.style.left = x;
                buttonText.style.top = y;
                buttonText.style.display = 'block';
                buttonText.style.zIndex = '2';

                document.querySelectorAll(".userText")[0].innerHTML = `<span class="userNickName">${e.target.innerHTML}</span> ë‹˜ ê²Œì‹œê¸€ë³´ëŸ¬ê°€ê¸° `
                document.querySelectorAll(".userText")[1].innerHTML = `<span class="userNickName">${e.target.innerHTML}</span> ë‹˜ ì •ë³´ ë³´ê¸°` 
                document.querySelectorAll(".userText")[2].innerHTML = `<span class="userNickName">${e.target.innerHTML}</span> ë‹˜ ì‹ ê³ í•˜ê¸°`
                document.querySelectorAll(".userText")[3].innerHTML =`<span class="userNickName">${e.target.innerHTML}</span> ë‹˜ ê°•í‡´í•˜ê¸°`
            }
            
            
        }
        sendbtn.onclick = function(){
            if(msg.value == ""){
                    return;
                }
            else{
                let ScrMsg = msg.value.split(" ")
                if(ScrMsg[0]=="/w"){
                    // )
                    if(users.includes(ScrMsg[1])&& users.includes("<%= data.nickName %>")){
                        console.log(users)
                        let ScrUser = ScrMsg[1]
                        ScrMsg.splice(0,2)
                        let b =ScrMsg.join(" ")
                        if(filter(b)){
                            console.log("ì´ê±° ì‹¤í–‰")
                             msg.value = `/w ${ScrUser} `
                        }
                        console.log("ë‚˜ì‹¤í–‰")
                        socket.emit("secretChat","<%= data.nickName %>",ScrUser,b)
                        msg.value = `/w ${ScrUser} `
                        return             
                    }
                    else if(ScrMsg[1] == "<%= data.nickName %>"){
                        console.log("ì´ê±° ì‹¤í–‰")
                        messages.innerHTML +=`<li>ìì‹ ì—ê²ŒëŠ” ë³´ë‚¼ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>`
                        down()
                        msg.value = ""
                    }
                    else if(users.includes("<%= data.nickName %>") == false){
                        swal("ê²½ê³ ","ë‹‰ë„¤ì„ ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.");
                        setTimeout(() => {
                            location.href = "/"
                        }, 1000);
                    }
                    else{
                        messages.innerHTML +=`<li>ì—†ëŠ” ìœ ì € ì…ë‹ˆë‹¤.</li>`
                        down()
                        msg.value = ""
                    }
                }
                else{
                    console.log("ì´ê±° ì‹¤í–‰")
                }
                if(msg.value == ""){
                    return
                }
                else{
                    if(filter(msg.value)){
                        msg.value = ""
                    }
                    else{
                        // console.log(filter(msg.value))
                        socket.emit("chat","<%= data.nickName %>",msg.value,socket.id)
                        msg.value = ""
                    }
                }
                ScrMsg = []
                    
            }
        }    
        window.onresize = (e)=>{
            const x = document.querySelector(".content").getBoundingClientRect().right+"px"
            const y = document.querySelector(".content").getBoundingClientRect().top+"px"
            userBox.style.position = 'absolute'; 
            userBox.style.left = x;
            userBox.style.top = y;
            const content = document.querySelector(".content").getBoundingClientRect().top+31
            const sendY = (send.getBoundingClientRect().top - content)+"px"
            main.style.height = sendY
            const a = userBox.getBoundingClientRect().bottom - document.querySelectorAll(".userUI")[0].getBoundingClientRect().bottom - 10
            userBoxUI.style.height = a+"px"
            if(window.innerWidth <= 850){
                document.querySelector(".content").style.width = "100%"
                document.querySelector(".content").style.maxWidth = "100%"
                document.querySelector(".content").style.height = "100%"
                document.querySelector(".content").style.maxHeight = "100%"
                document.querySelector(".content").style.border = "0"
                document.querySelectorAll(".userUI")[1].style.fontSize = "3vw"
                document.querySelectorAll(".userUI")[0].style.height = "3vh"
                document.querySelectorAll(".userUI")[1].style.height = "3vh"
            }
            else{
                document.querySelector(".content").style.width = "50vw"
                document.querySelector(".content").style.maxWidth = "1000px"
                document.querySelector(".content").style.height = "50vw"
                document.querySelector(".content").style.maxHeight = "600px"
                document.querySelector(".content").style.border = "1px solid"
                document.querySelectorAll(".userUI")[1].style.fontSize = "1em"
            }
        }
        userBtn.onclick = ()=>{
            if(userBox.style.display == "block"){
                userBox.style.display = "none"
            }else{
                if(window.innerWidth <= 850){
                    // document.onclick = (e)=>{
                    //     // ë…¸ì¶œ ì´ˆê¸°í™”
                    //     userBox.style.display = 'none';   
                    //     userBox.style.top = null;
                    //     userBox.style.left = null;
                    // };
                    userBox.style.display = "block"
                    userBox.style.position = "absolute"
                    userBox.style.zIndex = "1"
                    userBox.style.border = "1px solid"
                    userBox.style.backgroundColor = "blue"
                    const x = (userBtn.getBoundingClientRect().left - 70)+"px"
                    const y = (userBtn.getBoundingClientRect().bottom + 5)+"px"
                    userBox.style.left = x;
                    userBox.style.top = y;
                    userBox.ontouchstart = (e)=>{
                        if(e.target.className == "use" && e.target.innerHTML != "<%= data.nickName %>"){
                            msg.value = `/w ${e.target.innerHTML} `
                        }  
                    }
                }
                else{
                    const x = document.querySelector(".content").getBoundingClientRect().right+"px"
                    const y = document.querySelector(".content").getBoundingClientRect().top+"px"
                    userBox.style.position = 'absolute'; 
                    userBox.style.left = x;
                    userBox.style.top = y;
                    const a = userBox.getBoundingClientRect().bottom - document.querySelectorAll(".userUI")[0].getBoundingClientRect().bottom - 10
                    userBoxUI.style.height = a+"px"
                    userBox.style.display = "block"
                    userBox.onclick = (e)=>{
                        if(e.target.className == "use" && e.target.innerHTML != "<%= data.nickName %>"){
                            msg.value = `/w ${e.target.innerHTML} `
                        }  
                    }
                    
                }
            }
        }
        function down(){
            const x = document.querySelector(".content").getBoundingClientRect().right+"px"
            const y = document.querySelector(".content").getBoundingClientRect().top+"px"
            userBox.style.position = 'absolute'; 
            userBox.style.left = x;
            userBox.style.top = y;
            const content = document.querySelector(".content").getBoundingClientRect().top+31
            const sendY = (send.getBoundingClientRect().top - content)+"px"
            main.style.height = sendY
            const a = userBox.getBoundingClientRect().bottom - document.querySelectorAll(".userUI")[0].getBoundingClientRect().bottom - 10
            userBoxUI.style.height = a+"px"
            main.scrollTop = main.scrollTop + main.scrollHeight
        }
        function filter(msg){
            const a = " ---, @, ì„¹ìŠ¤, ìì§€, ë†ˆ, ë…„, ë…¸ë§ˆ, ë³´ì§€, ê¹€í•œê²°, í•œê²° , ê²°, ë°œë¡¬ì•„, â–ªï¸, â–ª, â—¾, â€•â€•, - -, â€• â€•, ^^ 7, ^ ^ 7, ^^7, ^7, ;;, ^ë…¸^, ï¿£, âŠ¥, â”€ â”€, â” â”, â”€â”€, â”â”, â”´, à¹‰, Ì†Ìˆ, 1ë¹ , ==, 2ë¹ , Dì¥ê³ , Dì§€ê³ , jonna, jotê°™, miì³¤, tlqkf, wlfkf, ê°ˆí‹±í°, gartic, ê°™ì€ ìƒˆë¼, ê°™ì€ìƒˆë¼, ê°œ ìƒˆë¼, ê°œê°™ì•„, ê°œê°™ì€, ê°œê°™ì„, ê°œê°™ê²Œ, ê°œë‚˜ ì†Œë‚˜, ê°œë‚˜ëŒ€, ê°œë‚˜ì†Œë‚˜, ê°œë„·, ê°œë…„, ê°œë…ë¹ ê°€, ëŠê°­, ë„íƒœë‚¨, ë„íƒœë…€, ë„.íƒœ, ë„1íƒœ, ê°œë…, ê°œë¼ì§€, ê°œë ¨, ê°œë ¨, ê°œë¶€ë„, ê°œì‚¼ì„±, ê°œìƒˆê¸°, ê°œìƒˆë¼, ê°œì„¹, í’€ë°œ, ì”¹ì„ , ê°œì…ˆ, ê°œì†Œë¦¬, ê°œì“°ë˜ê¸°, ê°œì €ì”¨, ê±°ì§€ê°™, ê·¸ì§€, ê³„ìƒˆë¼, ê³¨ ë¹ˆ, ê³¨1ë¹ˆ, ê³¨ë¹ˆ, ê´˜ìƒˆë¼, ê·¸1ì¼¬, ê·¸ì§€ ê°™, ê·¸ì§€ê°™, ê¹€ì¹˜ë…€, í•œë…€, í•œ.ë…€, í•œë‚¨ë“¤, í•œ.ë‚¨, ê·¸ë‚¨ë“¤, ìë“¤ìë“¤, ëœì¥ë…€, í”¼ì‹¸ê°œ, ì•™ê¸°ëª¨ë , ë³´ì´ë£¨, ì†Œì¶”, í„í„, ë°©êµ¬ì„, ì„ ìŠ¤, í˜•ë³´ìˆ˜ì§€, ëˆˆë‚˜, ê¹€ì—¬ì‚¬, ì—¬ì ì—¬, ìì ì, ë‚¨ì ë‚¨, ë³´ì ë³´, ì‚¼ì¼í•œ, ë³´ìŠ¬ì•„ì¹˜, ë³´ì§•ì–´, ì—‘ìœ½, í—¤ìœ¼ì‘, ì´ê¸°ì•¼, ë¶€ì™˜, ë³´í”ˆì¹´, ë³´ë¼ë‹ˆ, ìƒíë…€, ë°°ë¹µ, ëˆ„ë³´í–„, ìë°•ê¼¼, ë¡œë¦° , ì•„ëª°ë‘, ì—…ê³„í¬ìƒ, ë²ˆë…€, ë²ˆë‚¨, ë²ˆ ë…€, ë²ˆ ë‚¨, ëŒ€ë‚¨, ëŒ€ë…€, ê°œë…ë…€, ëƒ„ì €, ë¹¨ê°±, ë·”í˜ë¯¸, ê¸‰ë‚¨, ë“±ë‚¨, ê¸‰ë…€, ë“±ë…€, ê¼´í˜, -2-, -1-, ë¬¸ì¬ì•™, ìœ¤ì¬ì•™, ë ¬.ì´ë‹¤, ë ¬ì´ë‹¤, ì¿µì¾…, ì¿µ.ì¾…, í¨ë² , í¨ì½”, í¨.ì½”, ì— íŒ, ì¿°.ì²™, ì¿°ì²™, ã…—ã…œã…‘, ì˜¤ìš°ì•¼, ê»’ì—¬, êº¼ì§€ì„¸ìš”, êº¼ì ¸ìš”, ë¡œ êº¼ì ¸, ë¡œêº¼ì ¸, ë¡œ êº¼.ì ¸, êº¼.ì§€, ê¼´ë°, ì„¤ê±°ì§€ë¡ , ííë‚¨, ííë…€, ë‚˜ë¹¼ì…, ë‚˜ìœ ìƒˆë¼, ë„Œì”¨ëˆˆ, ë…„ë†ˆ, ë…¸ì•Œë¼, ë…¸ì¸ë„¤, ë…¸ì¹œë„¤, ëŠê·¸, ëŠê¸ˆ, ë‡Œ í……, ë‡Œ1í……, ë‡Œí……, ëˆˆê¹” íŒŒ, ëˆˆê¹”íŒŒ, ëˆˆìƒˆ, ëŠ¬ë¯œ, ëŠ¬ë¯¸, ë‹ˆë…„, ë‹ˆë¯œ, ë‹ˆë¯¸ëŸ´, ë‹ê¸°ë¦¬, ë‹¥1, ë‹¥2, ë‹¥ì „, ë‹¥ì³ë¼, ë‹¥ì¹˜ì„¸, ë‹¥í›„, ëŒ€ê°€ë¦¬, ë¨¸ê°€ë¦¬, ë¨¸.ê°€ë¦¬, ëŒ€.ê°€ë¦¬, ê½ƒë°­, ê½ƒ.ë°­, ëŒ€ê°ˆ, ë¬, ë„ë¼ì´, ë„ë, ë„ë, ë„ë¥¸, ëŒì•—êµ¬ë§Œ, ëŒì•—ë‚˜, ëŒì•—ë„¤, ëŒì•˜êµ¬ë§Œ, ëŒì•˜ë‚˜, ëŒì•˜ë„¤, ë‘„ë§ˆ, ë’ˆì ¸, ë’¤ì ¸ë¼, ë’¤ì ¸ë²„, ë’¤ì ¸ì•¼, ë’¤ì ¸ì•¼ì§€, ë’¤ì ¸ìš”, ë’¤ì¡Œ, ë’¤ì§€ê² , ë’¤ì§€ê³ ì‹¶, ë’¤ì§€ê¸¸, ë’¤ì§„ë‹¤, ë’¤ì§ˆ, ë“£ë³´, ë””ì ¸ë¼, ë””ì¡Œ, ë””ì§€ê³ , ë””ì§ˆ, ë”´ë…„, ë˜ë¼ì´, ë˜ë¼ì¸, ë˜˜ì•„ì´, ì•„ì¬, ë„¤ ì•„ì¤Œë§ˆ, ë„¤ ì•„ì €ì”¨, ë„¤ì•„ì¤Œë§ˆ, ë„¤ì•„ì €ì”¨, ëšë°°ê¸°ê¹¨, ëšë°°ê¸° ê¹¨, ëš«ë¦° ì…, ëš«ë¦°ì…, ë¼ë©´ê°¤, ëŸ°ë…„, ëŸ¼ë“¤, ë ˆ1ì¹œ, ë ˆê¸°ê°™, ë ˆê¸°ë„¤, ë ˆê¸°ë‹¤, ë ˆì¹œ, ë¡¬ë“¤, ã….ã„±, ã…ã…Š, ã…ì¹œ, ë¯¸ìƒˆ, ë§˜ì¶©, ğŸ¤ğŸ», ğŸ¤, ë§ëŒ, ë¨¸ê°ˆ, ë¨¸ë¦¬ í……, ë¨¸ë¦¬í……, ë¨¹.ê¸ˆ, ë¨¹.ë”, ë¨¹1ê¸ˆ, ë¨¹ê¸ˆ, ë¨¹ë”, ëª…ì¡´, ë­”ì†”, ë¯œì¹€, ë¯œì¹œ, ë¯¸1ì¹œ, ë¯¸ë†ˆ, ë¯¸ì‹œì¹œë°œ, ë¯¸ì³£ë„¤, ë¯¸ì³¤ë‹ˆ, ë¯¸ì·¬, ë¯¸ì¹€, ë¯¸ì¹œ ìƒˆ, ë¯¸ì¹œ~, ë¯¸ì¹œê°œ, ë¯¸ì¹œìƒˆ, ë¯¸ì¹œìƒ‰, ë¯¸í‹´, ë°íŒ, ì¤˜íŒ¨, ê¼¬ì¶”, ë¯¸ì¹˜ã„´, ã…….ã„², ìƒ‰í€´, ã……ë¼, í•œë‚¨ë“¤, í‰ì, ë¯¸ì¹œë„˜, ë°ì¹œ, GRë„, ë¯¸í•€ë†ˆ, ìƒ›ê¸°, íê¸‰, xportsnews, Gë„, ì„¸í‚¤, ë¯¸ì¹˜ëˆ„, dì ¸, ã…‚ã…ã„±, ã…‚ã…Š, ã…‚í¬, ë°œë†ˆ, ë³„ì°½, ë³‘1ì‹ , ë³‘ë§›, ë³‘ì‹ , ë´Š, ë³´ì „ê¹¨, ì‹¸ê°œ, ë¸…ì‹ , ë¹ í, ë¹¡ìƒˆë¼, ë¹»ì•˜, ë¹»ì€, ë»ê·œ, ë»í, ë»‘ìœ , ë»‘í, ë»¨í, ë¼ˆí, ì‰°ë‚´, ã…„, ã……,ã…‚, ã…….ã…‚, ã……1ã…‚, ã……1ë°œ, ã……ã„²ë„¤, ã……ã„²ë“¤, ì¹œã……ã„², ì¹œ ã……ã„², ã……1ã„², ã……ë£¨, ã……ã…‹, ã……ã…Œã…Š, ì‚¬ìƒˆë¼, ìƒˆ.ë¼, ìƒˆ1ë¼, ìƒˆ1í‚¤, ìƒˆ77ã…£, ìƒˆë¼ë¼, ìƒˆë¼ì•¼, ìƒˆí€´, ìƒˆí‚ˆ, ìƒˆí‚¤, ìƒ‰í¬, ìƒ‰íˆ, ìƒŠê¸°, ìƒŠíˆ, ìƒ¹ë…„, ì„€í‚¤, ì„œì¹˜í•´, ì„¬ìˆ­ì´, ì„±ê´´, ì†”1ì¹œ, ì†”ì¹œ, ì‰¬ë°œ, ì‰¬ë²„, ì‰¬ì´ë°”, ì‰¬ì´ì´, ì‰¬í„, ìŠˆ1ë°œ, ìŠˆë ˆê¸°, ìŠˆë°œ, ìŠˆë²Œ, ìŠˆìš°ë²Œ, ìŠˆã…£ë°œ, ìŠ¤ë²Œ, ìŠ¨ìƒë‹˜, ì‹‘ì°½, ì‹œ1ë°œ, ì‹œë¯¸ë°œì¹œ, ì‹œë¯¸ì¹œë°œ, ì‹œë°”ë¼ì§€, ì‹œë°”ë¥˜, ì‹œë°”ì‹œë°”, ì‹œë°”ì•Œ, ì‹œë°œ, ã……ã…‚, ã…….ã…‚, ë‹¥ ì³, ìŒ‰ìŠ¤, ì©ì—´, ì©ë ¬, ì¡ì—´, ì¡ë ¬, ëŒ€ê¹¨, ì•¼ë„, ã…‚ã……, ã…‚.ã……, ã…‚1ã……, ã……1ã…‚, ë²„íŠ¼ëˆŒ, ë²„íŠ¼ ëˆŒ, egr, ë°œì‘, ë°œ.ì‘, ë ¬ë°›, ë ¬ìŠ¤, ë ¬ í•œ, ë ¬ ë°›, ë ¬ í•˜, ë ¬ ìŠ¤, ë©.ì²­, - 2 -, - 1 -, ì•„ì¤Œë‚´, ë¨¸ê¹¨, ã……ã„¹ìŠ¤, ã……ã„¹í•˜, ã……ã„¹ê°™, ì„ì—´í•˜, ì„ì—´ìŠ¤, ã……ã…‡ìŠ¤, ã……ã…‡ê°™, ã……ã…‡í•˜, ë“±ì‹ ì•„, ë¯¸ì¹œê²ƒ, ê°œë•Œë¦¬, ê°œë–„ë ¤, ì—¼ë³‘í•˜, ì—¼ë³‘ì§“, ì¢…ê°„ë‚˜, ë¹ ê°€ì‚¬ë¦¬, ìƒˆê¸°ë“¤, ì• ìƒˆê¸°, ktestone, âŒ, âœ–ï¸, ğŸ–•, ì‹œë°©ìƒˆ, ì‹œë²Œíƒ±, ì‹œë³¼íƒ±, ì‹œë¶€ëŸ´, ì‹œë¶€ë ¬, ì‹œë¶€ìš¸, ì‹œë·°ëŸ´, ì‹œë·°ë ¬, ì‹œë¹¨, ì‹œìƒˆë°œë¼, ì‹œì´ë°œ, ì‹œì¹œë°œë¯¸, ì‹œí‚¤ê°€, ì‹œíŒ”, ì‹œí„, ì‹­ì°½, ííë‹¨, ì‹­íŒ”, ã…†1ã„º, ã…†1ã…‚, ã…†ã„¹ã„±, ã…†ã„º, ã…†ã…‚, ì‹¸ê°€ì§€ ì—†, ì‹¸ê°€ì§€ì—†, ì‹¸ë¬¼ì–´, ìŒë…„, ìŒë†ˆ, ìŒ”ë¼, ì…, ìŒë¼, ì’¸í„, ì“°1ë ˆê¸°, ì“°ë˜ê¸°ê°™, ì“°ë ˆê¸° ìƒˆ, ì“°ë ˆê¸°ìƒˆ, ì“°ë ‰, ì”ì°½, ì”¨1ë°œ, ì”¨ë°”ë¼, ì”¨ë°”ì•Œ, ì”¨ë°œ, ì”¨.ë°œ, ì”¨ë°©ìƒˆ, ì”¨ë²„ëŸ¼, ì”¨ë²Œ, ì”¨ë²Œíƒ±, ì”¨ë³¼íƒ±, ì”¨ë¶€ëŸ´, link.coupang, ì”¨ë¶€ë ¬, ì”¨ë·°ëŸ´, ì”¨ë·°ë ¬, ì”¨ë¹ ë¹ , ì”¨ë¹¨, ì”¨ë»˜, ì”¨ìƒˆë°œë¼, ì”¨ì´ë°œ, ì”¨íŒ”, ì”¹ê·€, ì”¹ëª», ì”¹ë»ëŸ´, ì”¹ìƒˆë¼, ì”¹ìŒ”, ì”¹ì°½, ì”¹ì¹˜, ì”¹íŒ”, ì”¹í• , ã…‡ã…ã…Šã…Œ, ì•„ê°€ë¦¬, ì•„ë‹¥, ë”ì¿ , ë¬, ë”.ì¿ , ã„·ã…‹, ì•„ì˜¤ ã……ã…‚, ì•„ì˜¤ ì‹œë°”, ì•„ì˜¤ã……ã…‚, ì•„ì˜¤ì‹œë°”, ì•ˆë¬¼ì•ˆê¶, ì• ë¯¸, ì•°ì°½, ë‹¥ëˆˆì‚¼, ì—ë¼ì´ í‰¤, ì—ë¼ì´ í‰·, ì—ë¼ì´í‰¤, ì—ë¼ì´í‰·, ì— ë·©ì‹ , ì— ë¸½ì‹ , ì— ë¹™ì‹ , ì‹œë…€, ì— ìƒ, ì— ì°½, ì—¿ê°™, ì—¿ì´ë‚˜, ì˜ˆ.ì§ˆ, ì˜ˆ1ì§ˆ, ì˜ˆì§ˆ, ì˜˜ë³‘, ì™¸1í€´, ì™¸í€´, ì›…ì•µ, ì›…ì—¥, ì€ë…„, ì€ìƒˆë¼, ì´ ìƒˆë¼, ì´ìƒˆë¼, ä¸€ ä¸€, ä¸€ ã…¡, ä¸€ä¸€, ä¸€ã…¡, ì… í„¸, ì…í„¸, ã…ˆ.ã„´, ã…ˆì†Œ, ã…ˆã„´, ã…ˆã„¹, ì§€ì¡, ì ˆë¼, ì •ì‹ ë‚˜ê°“, ì •ì‹ ë‚˜ê°”, ì – ê°™, ì —ê°™, ì ¼ë‚˜, ì ¼ë‚°, ì¡€ë¼, ì¡€ë¦¬, ì¡Œê°™ì€, ì¡ ê°™, ì¡°ì˜¨, ì¡°ì˜¨ë‚˜, ì¡±ê¹Œ, ì¡´ ë‚˜, ì¡´ ë‚˜, ì¡´,ë‚˜, ì¡´.ë‚˜, ì¡´1, ì¡´1ë‚˜, ğŸš¬, ë©ì²­, ?feature=share, ëŠ¥ì§€, ì¡°ì„¼ì§•, ì§±ê¹¨, ì§±ê°œ, ì§±ê¼´ë¼, ì°©ì§±, ì°©., ì±¡., ì£½ì§±, ì¥­., ì¨©., ì§±., ì¨©1, ì°©1, ì¥­1, ì§±ê³¨ë¼, ì¢ƒ, ì¢…ë‚˜, ê³±ì°½ë‚¬, ê³±ì°½ë‚˜, ì¢†, ì¢ë°¥, ì¢‹ì†Œ, ì¢‡ê°™, ì£ ë‚¸, ì£ ì˜¨ë‚˜, ì£¤ë‚˜, ì£¤ë‚´, ì£µë‚˜, ì£¶, ì£½ì–´ë²„ë ¤, ì£½ì—¬ ë²„ë¦¬ê³ , ì£½ì—¬ë²„ë¦¬ê³ , ì£½ì—¬ë¶ˆê³ , ì£½ì—¬ë¿Œê³ , ì¤¬ê°™ì€, ì¥ë„, ì¥°ë‚˜, ì¥°ë‚´, ì¥°ë‹ˆ, ì¥°íŠ¸, ì¦¤ë„, ì§€ ë„, ì§€1ë„, ì§€1ë¢°, ì§€ê»„ì´, ì§€ë“¤ì´, ì§€ë„, ezr, 2zr, 2gr, ì§€ë¡¤, ë ¬ê°™, ì—´ê°™, ë ¬ ê°™, ì—´ ê°™, ì„ ë ¬, ì© ë ¬, ì© ì—´, ì°¢ì¬, ì°¢ ì¬, ì°¢1, ìš°ë™ì‚¬ë¦¬, ã…ì²­, ì„ë‚´, ë ¬.í•˜, ì—´.í•˜, ã…‰, ã…‰ì§ˆí•œ, ì§±ê¹¨, ê¼´ë¼, ê¿œë¼, ì§±ê»˜, ìª¼ë…œ, ìª¼ë‹¤, ì°©ì§±ì£½ì§±, ì„¬ìˆ­ì´, ìª½ë³¸, ìª½1ë°”ë¦¬, ìª½ë°”ë¦¬, ìª½ë°œ, ì«€ ë§›, ì«€1, ì«€ê·€, ì«€ë§›, ì«‚, ì«“ê°™, ì¬°ì˜, ì¬², ì¯°ì§ˆ, ì°Œ1ì§ˆ, ì°Œì§ˆí•œ, ì°ì°ì´, ì°ì°ì´, ì°ì§¸ë¼, ì°½ë…„, ì°½ë…€, ì°½ë‚¨, ì°½ë†ˆ, ì°½ë„˜, ì²˜ë¨¹, å‡¸, ì²«ë¹ , ì³ë§ˆ, ì³ë¨¹, ì³ë°›ëŠ”, ì³ë°œë¼, ì·¨ã…ˆ, ì·¨ì¢ƒ, ì¹œ ë…„, í•œ ë…„, ì¹œ ë†ˆ, ì¹œêµ¬ë…„, ì¹œë…„, í•œë…„, ì¹œë…¸ë§ˆ, ì¹œë†ˆ, colormytree, ã…ã…Œã…Š, í•‘1í”„, í•‘ê±°í”„ë¦°ì„¸ìŠ¤, í•‘ë„, í•‘í”„, ã…ã…ƒ, ã…ã…Œã…Š, í—›ì†Œë¦¬, ì†ë†ˆ, í˜ì„, í˜¸ë¡œìƒˆë¼, í˜¸ë¡œì¡, í™”ë‚­ë…„, í™”ëƒ¥ë…„, í›„.ë ¤, í›„1ë ¤, í›„1ë¹¨, í›„ë ¤, í›„ë¹¨, ã…—, ã…¡ ä¸€, ã…¡ ã…¡, ã…¡ä¸€, â€”â€”â€”â€”, ã…¡ã…¡, ã…¡ã…¡, ã…¡ã…¡, à¸ª, à¸„à¹‡, à¹‰, à¹‡, zoomin.cur, eventHostId, open., onchat, ajax_comment, stub-extra, -stub, line.me, ask.fm, adinc.co.kr, vonvon, superfeed, lumieyes, www.inlive, theqoo, dmitory, _enliple, apt_review, showcat, ì‡¼ìº£, .pls, stype=3, $(', bitly, poomang.com, comment_memo, vote.php, onmouse, onkeyup, newsnack, onkeydown"
            const words = a.split(", ")  
            for (let n = 0; n < words.length; n++) {
                if (msg.includes(words[n])) {
                    $.ajax({
                        url : "/userWarning",
                        type : "post",
                        data : { nickname : "<%= data.nickName %>"},
                        success : function(data){
                            if (data == "ê²½ê³  ì´ˆê³¼ë¡œ ê°•ì œ í‡´ì¥ ë˜ì…¨ìŠµë‹ˆë‹¤.")
                            { 
                                setTimeout(() => {
                                    location.href = "/"
                                }, 1000);
                                return swal("ì£¼ì˜",data);;
                            }
                            else{
                                return swal("ì£¼ì˜",data);
                            }
                        }
                    })
                    return true;
                }
            }
        }
        function userOut (){
            let ScrMsg = msg.value.split(" ")
            if(ScrMsg[0]=="/out"){
                if(users.includes(ScrMsg[1])){
                    $.ajax({
                        url : "/userOut",
                        type : "post",
                        data : { nickname : ScrMsg[1]},
                        success : function(data){
                            if (data == "out")
                            { 
                                return messages.innerHTML += ScrMsg[1]+"ë‹˜ì´ ê°•ì œ í‡´ì¥ ë˜ì—ˆìŠµë‹ˆë‹¤.";
                            }
                            else{
                                return swal("ì£¼ì˜",data);
                            }
                        }
                    })
                    return             
                }
                else{
                    return
                }
            }            
        }
    }

</script>
</html>